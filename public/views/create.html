<div id="Create" ng-controller="RecipeController" class="horizontalFlexcontainer create fullHeight" >
    <div class="drinks">

        <h2 class="title">Drinks
            <a class="btn right" ng-click="newRecipe()"><i class="fa fa-plus"></i></a>
        </h2>

        <div class="list horizontalFlexcontainer">
            <div ng-repeat="drink in recipes" ng-include src="'views/partial/drinkview.html'" ng-click="editRecipe(drink)"></div>
        </div>
    </div>

    <div class="verticalFlexcontainer rightCol" >
        <div id="drinkdetails" class="drinkdetails" >
            <h2 class="title"> {{drinkService.selectedDrink != undefined ? drinkService.selectedDrink.name : "Drink details"}}
                <a class="btn right" ng-click="deleteRecipe(drinkService.selectedDrink)" ng-if="drinkService.selectedDrink"><i class="fa fa-trash-o"></i></a></h2>
            <div class="horizontalFlexcontainer ingredients" ng-if="drinkService.selectedDrink">

                <div class="glasscontainer">
                    <h3>Ratio</h3>
                    <div class="ingredientglass">
                        <div ng-repeat="part in drinkService.selectedDrink.recipeparts" class="ingredientpart {{part.ingredient.PumpId ? '' : 'unavalable'}}" ng-style="drinkService.getGlassCss(part)"></div>
                    </div>
                </div>
                <form id="ingredient-form" ng-submit="saveRecipe()">
                    <label for="editName">Name:</label>
                    <input id="editName"
                            ng-model="drinkService.selectedDrink.name"
                            ng-model-options="{debounce: {default: 1000, blur: 0}}"
                            ng-change="saveRecipe()"/>
                    <label for="editSize">Size:</label>
                    <select id="editSize"
                            ng-model="drinkService.selectedDrink.maxsize"
                            ng-options="drinkSize.id as drinkSize.name for drinkSize in drinkSizes"
                            ng-change="saveRecipe()" ></select>
                    <label for="editImage">Image:</label>
                    <input id="editImage"
                           ng-model="drinkService.selectedDrink.image"
                           ng-model-options="{debounce: {default: 1000, blur: 0}}"
                           ng-change="saveRecipe()"/>
                    <label for="editNotes">Notes:</label>
                    <textarea id="editNotes"
                           rows="4" cols="35"
                           ng-model="drinkService.selectedDrink.notes"
                           ng-model-options="{debounce: {default: 1000, blur: 0}}"
                           ng-change="saveRecipe()"></textarea>
                </form>
                <table id="recipe" class="table" ng-controller="IngredientController">
                    <thead>
                    <td>Ingredient</td>
                    <td>Amount</td>
                    <td>Order</td>
                    <td>Start delay</td>
                    <td><a class="btn" ng-click="AddRecipepart()"><i class="fa fa-plus"></i></a></td>
                    </thead>
                    <tr ng-repeat="part in drinkService.selectedDrink.recipeparts">
                        <td>
                            <select ng-model="part.IngredientId" ng-options="ingredient.id as ingredient.name for ingredient in ingredients" ng-change="saveRecipepart(part)" >
                                <option value="">-- choose ingredient --</option>
                            </select>
                        </td>
                        <td><input class="shortCol" type="number" ng-model="part.amount" ng-model-options="{debounce: {default: 1000, blur: 0}}" ng-change="saveRecipepart(part)"/></td>
                        <td><input class="shortCol" type="number" ng-model="part.order" ng-model-options="{debounce: {default: 1000, blur: 0}}" ng-change="saveRecipepart(part)" /></td>
                        <td><input class="shortCol" type="number" ng-model="part.startdelay" ng-model-options="{debounce: {default: 1000, blur: 0}}" ng-change="saveRecipepart(part)" /></td>
                        <td><a class="btn" ng-click="deleteRecipepart(part)"><i class="fa fa-trash-o"></i></a></td>
                    <tr>
                </table>
                </div>
            </div>
        <div ng-include src="'views/partial/make.html'" ng-if="drinkService.selectedDrink">
        </div>
    </div>
</div>
